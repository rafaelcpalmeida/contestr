<main>
  <div class="section no-pad-bot" id="index-banner">
    <div class="container">
      <br><br>
      <h1 class="header center orange-text">Criar novo concurso</h1>
      <br><br>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <%= form_for :project, url: '/dashboard/create' do |f| %>
      <div class="col s12">
        <div class="row">
          <div class="input-field col s12">
            <input id="name" name="project[name]" type="text" class="validate">
            <label for="name">Nome</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <textarea id="description" name="project[description]" class="materialize-textarea"></textarea>
            <label for="description">Descrição</label>
          </div>
        </div>
        <span>Data e hora de abertura</span>
        <div class="row">
          <div class="input-field col s6">
            <input type="text" name="project[start_date]" class="datepicker">
          </div>
          <div class="input-field col s6">
            <input type="text" name="project[start_hour]" class="timepicker">
          </div>
        </div>
        <span>Data e hora de fecho</span>
        <div class="row">
          <div class="input-field col s6">
            <input type="text" id="teste" name="project[finish_date]" class="datepicker">
          </div>
          <div class="input-field col s6">
            <input type="text" name="project[finish_hour]" class="timepicker">
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <button class="waves-effect waves-light btn" type="submit" name="submit">Submeter</button>
          </div>
        </div>
      </div>
      <% end %>
    </div>
  </div>
</main>

<script>
    $('.datepicker').pickadate({
        selectMonths: true, // Creates a dropdown to control month
        selectYears: 15, // Creates a dropdown of 15 years to control year,
        today: 'Today',
        clear: 'Clear',
        close: 'Ok',
        closeOnSelect: false // Close upon selecting a date,
    });


    $('.timepicker').pickatime({
        default: 'now', // Set default time: 'now', '1:30AM', '16:30'
        fromnow: 0,       // set default time to * milliseconds from now (using with default = 'now')
        twelvehour: false, // Use AM/PM or 24-hour format
        donetext: 'OK', // text for done-button
        cleartext: 'Clear', // text for clear-button
        canceltext: 'Cancel', // Text for cancel-button
        autoclose: false, // automatic close timepicker
        ampmclickable: true, // make AM PM clickable
        aftershow: function(){} //Function for after opening timepicker
    });

    function test(){
        console.log(document.getElementsByName("project[finish_date]")[0].value);
    }
</script>